<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
/* description https://app.codesignal.com/arcade/code-arcade/labyrinth-of-nested-loops/tuKA5f3zpzkKKejJx
A rectangle with sides equal to even integers a and b is drawn on the Cartesian plane. Its center (the intersection point of its diagonals) coincides with the point (0, 0), but the sides of the rectangle are not parallel to the axes; instead, they are forming 45 degree angles with the axes.

How many points with integer coordinates are located inside the given rectangle (including on its sides)?

Example

For a = 6 and b = 4, the output should be
rectangleRotation(a, b) = 23.

The following picture illustrates the example, and the 23 points are marked green.
https://codesignal.s3.amazonaws.com/tasks/rectangleRotation/img/rectangle.png?_tm=1621922790449
*/
    function rectangleRotation(a,b) {
      let big = Math.max(a,b)
      let small = Math.min(a,b)

      let NE_x_y = Math.floor(Math.sqrt(big * big / 8))

      let width = 2 * NE_x_y + 1
      let half_height = Math.floor(Math.sqrt(small * small / 8))
      let height = 2 * half_height + 1

      let rectangle_1 = width * height
      let hypotenuse = Math.sqrt(2 * NE_x_y * NE_x_y) + 1 / Math.sqrt(2)

      let rectangle_2_w

      if (hypotenuse <= big / 2) {
        rectangle_2_w = width + 1
      } else {
        rectangle_2_w = width - 1
      }

      let rectangle_2_h = 2 * (Math.floor((small/2 - 1 / Math.sqrt(2)) / Math.sqrt(2)) + 1)

      return rectangle_1 + rectangle_2_w * rectangle_2_h
    }

/* top solution:
function rectangleRotation(a, b) {
    var pointsA = Math.floor(Math.sqrt(a * a / 2)),
        pointsB = Math.floor(Math.sqrt(b * b / 2));
    return (pointsA * pointsB + Math.floor((pointsA + pointsB) / 2)) * 2 + 1;
}
*/
  </script>
</body>
</html>
