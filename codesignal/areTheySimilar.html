<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function areSimilar(a, b) {
        if (a.toString() === b.toString()) {
          return true;
        }

        const aVals = [];
        let bVals = [];

        for (let i = 0; i < a.length; i++) {
          if (a[i] !== b[i]) {
            aVals.push(a[i])
            bVals.push(b[i])
          }
        }
        bVals = bVals.reverse()

        if (aVals.length === 2 && (aVals.toString() === bVals.toString())) {
          return true;
        }
        return false;
      }
/*
First have a conditional to check if the arrays are already the same
create empty arrays to store current iteration values of a and b when they aren't equal.
Iterate over a/b and push values into their respective empty arrays when a[i] !== b[i]
Reverse bVals (a way to swap.  works because there are only two values in the array)
If length of either aVals or bVals is > 2, that means it requires more than 1 swap, and fails.
If by reversing bvals, and if it is equal to avals, then that means they can by similar with 1 swap.

*/


/*
Two arrays are called similar if one can be obtained from another by swapping at most one pair of elements in one of the arrays.

Given two arrays a and b, check whether they are similar.

Example

For a = [1, 2, 3] and b = [1, 2, 3], the output should be
areSimilar(a, b) = true.

The arrays are equal, no need to swap any elements.

For a = [1, 2, 3] and b = [2, 1, 3], the output should be
areSimilar(a, b) = true.

We can obtain b from a by swapping 2 and 1 in b.

For a = [1, 2, 2] and b = [2, 1, 1], the output should be
areSimilar(a, b) = false.

Any swap of any two elements either in a or in b won't make a and b equal.

First attempt  Very messy.  Passes 9/10 tests.
Probably need to implement actual swapping instead of just splicing something out, and splicing something in.
function areSimilar(a, b) {
        const indexes = [];
        const values = [];
        let switchCount = 0;
        const checkEquality = () => {
          for (let k = 0; k < a.length; k++) {
            if (a[k] !== b[k]) {
              switchCount++
            }
          }
        }

        for (let h = 0; h < a.length; h++) {
          if (!b.includes(a[h])) {
            return false;
          }
        }

        for (let i = 0; i < a.length; i++) {
          if (a[i] !== b[i]) {
            indexes.push(i)
            values.push(a[i])
          }
        }
        for (let j = 0; j < indexes.length; j++) {
          b.splice(b.indexOf(values[j]), 1)
          b.splice(indexes[j], 0, values[j])
          checkEquality();
        }

        console.log(indexes, values)
        console.log('switchCount:', switchCount)
        return switchCount <= 2 ? true : false;

      }

Top solution:
function areSimilar(a, b) {
    const ad = a.filter((v,i)=>v!=b[i])
    const bd = b.filter((v,i)=>v!=a[i])
    return ad.length == 0 || (ad.length == 2 && ad.join('') == bd.reverse().join(''))
}
 */
  </script>
</body>
</html>
