<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function comfortableNumbers(l, r) {
        function s(x) {
          return String(x).split('').map(Number).reduce((a, b) => a + b);
        }
        var ret = [];
        for (var i = l; i <= r; i++) {
          for (var j = i + 1; j <= Math.min(r, i + s(i)); j++) {
            if (i === j)
              continue;
            if (i >= j - s(j) && i <= j + s(j)) {
              ret.push([i, j]);
            }
          }
        }
        return ret.filter((el, id, arr) => id === arr.findIndex(function (fl) {
          return el[0] === fl[0] && el[1] === fl[1];
        })).length;
      }

// working solution. does not work.  only checks adjacent pairs.
// function comfortableNumbers(l, r) {
//     let res = 0;
//     function digitSum(arg) {
//         return arg.toString().split('').map(Number).reduce((acc, cur) => acc + cur)
//     }
//     for (let i = l; i < r; i++) {
//         let lower = i - digitSum(i)
//         let upper = i + digitSum(i)
//         console.log('current:', lower, upper)
//         let nextLower = (i+1) - digitSum(i+1)
//         let nextUpper = (i+1) + (digitSum(i+1))
//         console.log('next:', nextLower, nextUpper)
//         if (lower <= i + 1 && i + 1 <= upper) {
//             if (nextLower <= i && i <= nextUpper) {
//                 console.log('incrementing')
//                 res++
//             }
//         }
//     }
//     return res;
// }
      /*
      create storage named 'res' to store the amt of comfortable pairs there are.  initialize as 0.
      find the upper and lower bounds and assign them to variables

      create a for loop that starts at 'l' and ends at 'r'

      check if s(b) falls within s(a)'s range
      check if s(a) falls within s(b)'s range
      if so, increment 'res'

      This is wrong.  I'm only checking pairs that are next to each other, but s(11) is comfortable with 10 and 12, not just 10.  Need to re-do.

       */
  </script>
</body>
</html>
