<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
  function commonCharacterCount(s1, s2) {
    let count = 0;
    const uniqueS1 = []
    //create array of unique characters from s1
    for (let i = 0; i < s1.length; i++) {
      if (!uniqueS1.includes(s1[i])) {
        uniqueS1.push(s1[i])
      }
    }
    // iterate over the unique characters and check if s2 contains any of these characters.
    // if it does, increase 'count' by the lower value of s1[v] or s2[v].
    uniqueS1.forEach((v, i, a) => {
      if (s2.includes(v)) {
        count += Math.min(s1.match(new RegExp(v, 'g')).length, s2.match(new RegExp(v, 'g')).length)
      }
    })
    return count;
  }

  /* https://app.codesignal.com/arcade/intro/level-3/JKKuHJknZNj4YGL32
  Given two strings, find the number of common characters between them.

Example
For s1 = "aabcc" and s2 = "adcaa", the output should be
commonCharacterCount(s1, s2) = 3.

Strings have 3 common characters - 2 "a"s and 1 "c".
  */
    /* 1st attempt - works but very ugly.
    made two objects to store the characters in each string, and how many appearances of each
    used a for...in loop to iterate over s1Obj and check if s2Obj contains
    the same character, and if it does, increase 'count' by the lesser of the
    amt of the two object's values.


    let count = 0;
      const s1Obj = {};
      const s2Obj = {};
      for (let i = 0; i < s1.length; i++) {
        // console.log(s1[i])
        if (!(s1[i] in s1Obj)) {
          s1Obj[s1[i]] = 1;
        } else {
          // console.log(s1Obj.s1)
          s1Obj[s1[i]]++
        }
      }
      for (let j = 0; j < s2.length; j++) {
        // console.log(s1[i])
        if (!(s2[j] in s2Obj)) {
          s2Obj[s2[j]] = 1;
        } else {
          // console.log(s1Obj.s1)
          s2Obj[s2[j]]++
        }
      }

      for (let k in s1Obj) {
        if (s2Obj.hasOwnProperty(k)) {
          count += (s1Obj[k] > s2Obj[k] ? s2Obj[k] : s1Obj[k])
        }
      }
      return count;

    best solution:
      iterate over s1 and replace all values in s2, with '!', just to indicate that
      it is a shared value.
      then in s2, replace all NON '!' values with '', aka delete them.  then return the length of that array.  Aka the # of '!'s

    function commonCharacterCount(s1, s2) {
        for (var i = 0; i < s1.length; i++) {
          s2 = s2.replace(s1[i], "!");
        }
        return s2.replace(/[^!]/g, "").length;
      } */
  </script>
</body>
</html>
