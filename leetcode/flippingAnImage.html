<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
/*
Given an n x n binary matrix image, flip the image horizontally, then invert it, and return the resulting image.

To flip an image horizontally means that each row of the image is reversed.

For example, flipping [1,1,0] horizontally results in [0,1,1].
To invert an image means that each 0 is replaced by 1, and each 1 is replaced by 0.

For example, inverting [0,1,1] results in [1,0,0].


Example 1:

Input: image = [[1,1,0],[1,0,1],[0,0,0]]
Output: [[1,0,0],[0,1,0],[1,1,1]]
Explanation: First reverse each row: [[0,1,1],[1,0,1],[0,0,0]].
Then, invert the image: [[1,0,0],[0,1,0],[1,1,1]]
Example 2:

Input: image = [[1,1,0,0],[1,0,0,1],[0,1,1,1],[1,0,1,0]]
Output: [[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]
Explanation: First reverse each row: [[0,0,1,1],[1,0,0,1],[1,1,1,0],[0,1,0,1]].
Then invert the image: [[1,1,0,0],[0,1,1,0],[0,0,0,1],[1,0,1,0]]
*/


    // my shortened code.  Not sure of the big O notation.
    var flipAndInvertImage = function (image) {
        const res = [];
        image.map(x => x.reverse())
        image.forEach(y => res.push(y.map(z => z === 1 ? 0 : 1)))
        return res;
      };
// first attempt.  Basically same thing, but written out.
// var flipAndInvertImage = function(image) {
//     const res = [];
//     const answer = [];
//     for (let j = 0; j < image.length; j++) {
//         res.push(image[j].reverse())
//     }

//     for (let i = 0; i < res.length; i++){
//         answer.push(res[i].map(v => v === 1 ? 0 : 1))
//     }
//     return answer;
// };


      /*
      create a storage named 'res' to store the flipped image
      iterate over the matrix

      // flip horizontally
      reverse() each item.
      //other way:
      iterate over each item in the matrix in reverse,
      push them to a temporary array named 'horFlip'

      //invert
      iterate over matrix
      iterate over each individual item in matrix
      map() to change each sub-array item.
      If it's a 1, make it a 0, and vice versa.
      */

/* top solution:
maps over the matrix
modifies each subarray (row) by mapping over the contents of each
subarray and flips the value of the current subarray iteration.
Then it reverses the order of the row.

One thing that I don't understand is when porttion => !portion
portion is either going to be 1 or 0.  !0 === true and !1 === false.
The code passes, but I don't see how !0 supposedly converts to 1.
It makes absolutely zero sense to me.

var flipAndInvertImage = function(image) {
    return image.map(row => row.map(portion => !portion).reverse());
};


A different solution replaced !portion with portion^1
Bitwise XOR.
Basically constructs a bitwise result from portion and 1.
If either (but not both) are 1, then it returns 1.
If both are 1, then it returns 0.
Basically it achieves the same thing as portion === 1 ? 0 : 1;

// more understandable version with bitwise XOR
var flipAndInvertImage = function(image) {
    return image.map(row => row.map(portion => portion^1).reverse());
};

// better solution from whiteboard wizards
No need to push to an array.  Just reverse it in place
var flipAndInvertImage = function(image) {
    return image.map(i => i.map(v =>  v ? 0 : 1).reverse())
};

*/
  </script>
</body>
</html>
